{"version":3,"sources":["webpack:///src/views/UserInfo.vue","webpack:///./src/views/UserInfo.vue?a079","webpack:///./src/views/UserInfo.vue"],"names":["UserInfo","name","data","userInfo","userName","nikName","email","phone","totalCount","balanceCount","loading","update","lastClickTime","methods","getUserData","this","localStorage","getItem","onSubmit","_this","currentTime","Date","now","checkValue","$notify","error","title","message","request","put","then","resp","setItem","code","type","value","created","views_UserInfo","render","_vm","_h","$createElement","_c","_self","attrs","gutter","xs","sm","md","lg","xl","staticClass","_v","directives","rawName","expression","label-position","label-width","model","label","disabled","callback","$$v","$set","placeholder","slot","icon","on","click","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.f31b84ca41fe2e20a58f.js","sourcesContent":["<template>\r\n  <el-row :gutter=\"24\">\r\n\r\n    <!-- 左边 缩进 -->\r\n    <el-col :xs=\"0\" :sm=\"2\" :md=\"5\" :lg=\"5\" :xl=\"5\">\r\n      <div class=\"grid-content \"></div>\r\n    </el-col>\r\n    <!-- 内容主体 行 -->\r\n    <el-col :xs=\"24\" :sm=\"20\" :md=\"14\" :lg=\"14\" :xl=\"14\">\r\n      <!-- 内容主体的div -->\r\n      <div class=\"grid-content\">\r\n        <h1>个人信息</h1>\r\n        <el-form label-position=\"left\" v-loading=\"loading\" label-width=\"80px\" :model=\"userInfo\">\r\n          <el-form-item label=\"账号:\">\r\n            <el-input v-model=\"userInfo.userName\" disabled></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"昵称:\">\r\n            <el-input placeholder=\"请输入昵称\" v-model=\"userInfo.nikName\" class=\"input-with-select\">\r\n              <el-button slot=\"append\" @click=\"onSubmit()\" :disabled=\"this.update\" icon=\"el-icon-edit\">保存</el-button>\r\n            </el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"邮箱:\">\r\n            <el-input v-model=\"userInfo.email\" disabled></el-input>\r\n          </el-form-item>\r\n          <!-- <el-form-item label=\"手机号:\">\r\n            <el-input v-model=\"userInfo.phone\"></el-input>\r\n          </el-form-item> -->\r\n          <!-- <el-form-item label=\"提问次数:\">\r\n            <el-input v-model=\"userInfo.totalCount\" disabled></el-input>\r\n          </el-form-item> -->\r\n          <!-- <el-form-item label=\"剩余次数:\">\r\n            <el-input v-model=\"userInfo.balanceCount\" disabled></el-input>\r\n          </el-form-item> -->\r\n        </el-form>\r\n      </div>\r\n    </el-col>\r\n    <!-- 右边 缩进 -->\r\n    <el-col :xs=\"0\" :sm=\"2\" :md=\"5\" :lg=\"5\" :xl=\"5\">\r\n      <div class=\"grid-content \"></div>\r\n    </el-col>\r\n\r\n  </el-row>\r\n</template>\r\n<script>\r\nimport request from '../utils/request';\r\nexport default {\r\n  name: \"userInfo\",\r\n  data() {\r\n    return {\r\n      userInfo: {\r\n        userName: '',//账号\r\n        nikName: '',//昵称\r\n        email: '',//邮箱\r\n        phone:'',//手机号码\r\n        totalCount: 0,//总提问次数\r\n        balanceCount: 0//剩余有效提问次数\r\n      },\r\n      loading: false,//是否开启加载\r\n      update: false,//是否禁用按钮\r\n      lastClickTime:0//上一次点击的时间\r\n    }\r\n  },\r\n  methods: {\r\n    getUserData() {\r\n        this.userInfo.userName = localStorage.getItem(\"account\")//账号\r\n        this.userInfo.nikName = localStorage.getItem(\"name\")//昵称\r\n        this.userInfo.email = localStorage.getItem(\"email\")//邮箱 \r\n    },\r\n    onSubmit() {\r\n      var currentTime = Date.now();\r\n      if (currentTime - this.lastClickTime >= 3000) {\r\n        // 执行按钮的点击操作\r\n        //非空判断  \r\n        if (!this.checkValue(this.userInfo.nikName)) {\r\n          this.$notify.error({\r\n            title: '错误',\r\n            message: \"昵称不能为空！\"\r\n          });\r\n          return\r\n        }\r\n\r\n        request.put(\"/system/modify\",\r\n          {\r\n            \"name\": this.userInfo.nikName,\r\n            \"phone\":this.userInfo.phone,\r\n            \"email\":this.userInfo.email\r\n          }\r\n        ).then(resp => {\r\n          localStorage.setItem(\"nikName\", this.userInfo.nikName)\r\n          if (resp.code == 0) {\r\n            this.$notify({\r\n              title: '成功',\r\n              message: '保存成功！',\r\n              type: 'success'\r\n            });\r\n           this.lastClickTime=Date.now()\r\n          } else {\r\n            this.$notify.error({\r\n              title: '错误',\r\n              message: \"更新失败！请联系管理员\"\r\n            });\r\n          }\r\n\r\n        })\r\n        this.lastClickTime = currentTime;\r\n      } else {\r\n        this.$notify.error({\r\n          title: '错误',\r\n          message: \"请勿频繁点击！3秒后重试\"\r\n        });\r\n      }\r\n\r\n    },\r\n    checkValue(value) {\r\n      if (value == null || value == \"\") {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getUserData()\r\n\r\n  }\r\n}\r\n</script>\r\n<style>\r\n.grid-content {\r\n  border-radius: 4px;\r\n  min-height: 36px;\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/UserInfo.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-row',{attrs:{\"gutter\":24}},[_c('el-col',{attrs:{\"xs\":0,\"sm\":2,\"md\":5,\"lg\":5,\"xl\":5}},[_c('div',{staticClass:\"grid-content\"})]),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":24,\"sm\":20,\"md\":14,\"lg\":14,\"xl\":14}},[_c('div',{staticClass:\"grid-content\"},[_c('h1',[_vm._v(\"个人信息\")]),_vm._v(\" \"),_c('el-form',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"label-position\":\"left\",\"label-width\":\"80px\",\"model\":_vm.userInfo}},[_c('el-form-item',{attrs:{\"label\":\"账号:\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userInfo.userName),callback:function ($$v) {_vm.$set(_vm.userInfo, \"userName\", $$v)},expression:\"userInfo.userName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"昵称:\"}},[_c('el-input',{staticClass:\"input-with-select\",attrs:{\"placeholder\":\"请输入昵称\"},model:{value:(_vm.userInfo.nikName),callback:function ($$v) {_vm.$set(_vm.userInfo, \"nikName\", $$v)},expression:\"userInfo.nikName\"}},[_c('el-button',{attrs:{\"slot\":\"append\",\"disabled\":this.update,\"icon\":\"el-icon-edit\"},on:{\"click\":function($event){return _vm.onSubmit()}},slot:\"append\"},[_vm._v(\"保存\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"邮箱:\"}},[_c('el-input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.userInfo.email),callback:function ($$v) {_vm.$set(_vm.userInfo, \"email\", $$v)},expression:\"userInfo.email\"}})],1)],1)],1)]),_vm._v(\" \"),_c('el-col',{attrs:{\"xs\":0,\"sm\":2,\"md\":5,\"lg\":5,\"xl\":5}},[_c('div',{staticClass:\"grid-content\"})])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ba2c6082\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/UserInfo.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ba2c6082\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./UserInfo.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./UserInfo.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ba2c6082\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./UserInfo.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/UserInfo.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}