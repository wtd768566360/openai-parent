webpackJsonp([4],{ALSZ:function(e,t){},tKxd:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("vLgD"),n={name:"userInfo",data:function(){return{userInfo:{userName:"",nikName:"",email:"",phone:"",totalCount:0,balanceCount:0},loading:!1,update:!1,lastClickTime:0}},methods:{getUserData:function(){this.userInfo.userName=localStorage.getItem("account"),this.userInfo.nikName=localStorage.getItem("name"),this.userInfo.email=localStorage.getItem("email")},onSubmit:function(){var e=this,t=Date.now();if(t-this.lastClickTime>=3e3){if(!this.checkValue(this.userInfo.nikName))return void this.$notify.error({title:"错误",message:"昵称不能为空！"});a.a.put("/system/modify",{name:this.userInfo.nikName,phone:this.userInfo.phone,email:this.userInfo.email}).then(function(t){localStorage.setItem("nikName",e.userInfo.nikName),0==t.code?(e.$notify({title:"成功",message:"保存成功！",type:"success"}),e.lastClickTime=Date.now()):e.$notify.error({title:"错误",message:"更新失败！请联系管理员"})}),this.lastClickTime=t}else this.$notify.error({title:"错误",message:"请勿频繁点击！3秒后重试"})},checkValue:function(e){return null!=e&&""!=e}},created:function(){this.getUserData()}},i={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:0,sm:2,md:5,lg:5,xl:5}},[s("div",{staticClass:"grid-content"})]),e._v(" "),s("el-col",{attrs:{xs:24,sm:20,md:14,lg:14,xl:14}},[s("div",{staticClass:"grid-content"},[s("h1",[e._v("个人信息")]),e._v(" "),s("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{"label-position":"left","label-width":"80px",model:e.userInfo}},[s("el-form-item",{attrs:{label:"账号:"}},[s("el-input",{attrs:{disabled:""},model:{value:e.userInfo.userName,callback:function(t){e.$set(e.userInfo,"userName",t)},expression:"userInfo.userName"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"昵称:"}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入昵称"},model:{value:e.userInfo.nikName,callback:function(t){e.$set(e.userInfo,"nikName",t)},expression:"userInfo.nikName"}},[s("el-button",{attrs:{slot:"append",disabled:this.update,icon:"el-icon-edit"},on:{click:function(t){return e.onSubmit()}},slot:"append"},[e._v("保存")])],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"邮箱:"}},[s("el-input",{attrs:{disabled:""},model:{value:e.userInfo.email,callback:function(t){e.$set(e.userInfo,"email",t)},expression:"userInfo.email"}})],1)],1)],1)]),e._v(" "),s("el-col",{attrs:{xs:0,sm:2,md:5,lg:5,xl:5}},[s("div",{staticClass:"grid-content"})])],1)},staticRenderFns:[]};var l=s("VU/8")(n,i,!1,function(e){s("ALSZ")},null,null);t.default=l.exports}});
//# sourceMappingURL=4.f31b84ca41fe2e20a58f.js.map