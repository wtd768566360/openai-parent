webpackJsonp([7],{"0ZhZ":function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("vLgD"),a={name:"Account",data:function(){return{emailForm:{email:""},restLoding:!1,restRules:{email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}]}}},methods:{goHelp:function(){this.$router.push("/help")},handleSubmit:function(){var e=this;this.$refs.emailForm.validate(function(t){if(!t)return!1;e.restLoding=!0,s.a.post("/email/find/account",{email:e.emailForm.email}).then(function(t){0==t.code?(e.$notify({title:"成功",message:t.msg,type:"success"}),e.restLoding=!1,e.$router.push("/login")):(e.$notify.error({title:"错误",message:t.msg}),e.restLoding=!1)})})},getCode:function(){var e=this;if(this.emailForm.email){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.emailForm.email)?(this.codeLoding=!0,s.a.post("/user/rest-code",{userName:this.emailForm.username,email:this.emailForm.email}).then(function(t){if(200==t.code){e.$message({message:"验证码发送成功！请注意查看邮箱....",type:"success"});var i=setInterval(function(){e.codeTime--,e.codeTime<=0?(clearInterval(i),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60):e.codeText=e.codeTime+"秒后重试！"},1e3)}509==t.code&&(e.$message({message:t.msg,type:"error"}),clearInterval(i),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60),507==t.code&&(e.$message({message:t.msg,type:"error"}),clearInterval(i),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60)})):this.$message({message:"请先填写正确的邮箱！",type:"error"})}else this.$message({message:"请先填写邮箱！",type:"error"})}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"help-wrapper"},[i("el-card",{staticClass:"help-card"},[i("div",{staticClass:"help-logo"},[i("h1",[e._v("找回账号")]),e._v(" "),i("el-link",{attrs:{type:"info"}},[e._v("请填写注册时候绑定的邮箱，我们将会把您的账号信息发送到您的邮箱里！\n      ")])],1),e._v(" "),i("div",{staticClass:"email-form"},[i("el-form",{ref:"emailForm",attrs:{model:e.emailForm,rules:e.restRules,"label-position":"left","label-width":"80px"}},[i("el-form-item",{attrs:{label:"绑定邮箱",prop:"email"}},[i("el-input",{attrs:{type:"email",placeholder:"请输入账号绑定的邮箱"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleSubmit.apply(null,arguments)}},model:{value:e.emailForm.email,callback:function(t){e.$set(e.emailForm,"email",t)},expression:"emailForm.email"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary",loading:this.restLoding},on:{click:e.handleSubmit}},[e._v("立即发送")])],1),e._v(" "),i("el-link",{staticStyle:{"margin-left":"220px"},attrs:{type:"danger"},on:{click:e.goHelp}},[e._v("忘记密码？")])],1)],1)])],1)},staticRenderFns:[]};var l=i("VU/8")(a,r,!1,function(e){i("5svl")},"data-v-702bcdec",null);t.default=l.exports},"5svl":function(e,t){}});
//# sourceMappingURL=7.7e2495879cce19b8c86e.js.map