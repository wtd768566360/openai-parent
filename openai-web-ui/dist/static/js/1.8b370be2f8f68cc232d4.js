webpackJsonp([1],{FH28:function(e,t){},mvHQ:function(e,t,s){e.exports={default:s("qkKv"),__esModule:!0}},qkKv:function(e,t,s){var r=s("FeBl"),n=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return n.stringify.apply(n,arguments)}},"vi/S":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=s("mvHQ"),n=s.n(r),i=s("vLgD"),o={name:"Chat",data:function(){return{ruleForm:{msg:"",token:""},nikName:"",balanceCount:0,userType:"",rules:{msg:[{required:!0,message:"请输入你的问题或者你要发送的信息",trigger:"blur"}]},loading:!1,answer:"",chatRecords:[],showDefault:!0,queryCount:0,userQuerys:[],submit:!1}},methods:{codeHighlight:function(e){return console.log("代码"+e),hljs.highlightAuto(e).value},submitQuestion:function(){var e=this;if(""!==this.ruleForm.msg.trim())if(1!=this.submit){if(this.submit=!0,this.ruleForm.msg="",0==this.balanceCount||this.balanceCount<0)return this.$notify.error({title:"错误",message:"无查询次数，联系管理员充值！"}),void(this.submit=!1);this.showDefault=!1,this.myScroll();var t=this,s=document.getElementById("userInput").value,r={user:s,system:""};t.userQuerys.push(r);var o={role:"user",msg:s};t.chatRecords.push(o);var a=localStorage.getItem("token");i.a.post("/chat/pose",n()(t.chatRecords),{token:a}).then(function(s){503==s.code&&(e.$notify.error({title:"错误",message:"会话过期,请重新登录!"}),e.$router.push("/login"));var r=new EventSource("http://chat.niitcxl.cn:8989/chat/see/"+s.data);r.onopen=function(){t.submit=!0;var e,s,r,n,i,o,a,u=new Date;t.userQuerys[t.userQuerys.length-1].time=(s=(e=u).getFullYear(),r=e.getMonth()+1,n=e.getDate(),i=e.getHours(),o=e.getMinutes(),a=e.getSeconds(),s+"-"+r+"-"+n+" "+i+":"+o+":"+a),t.answer="",t.ruleForm.msg=""},r.onmessage=function(e){var s=e.data;if("[DONE]"===s){t.submit=!1,r.close(),t.myScroll(),t.balanceCount--;var n={role:"system",msg:t.answer};t.chatRecords.push(n),t.answer=""}else if("[ERROR]"===s){r.close();var i=t.userQuerys[t.userQuerys.length-1];t.submit=!1,i.system="出错了，请刷新页面！"}else if(JSON.parse(s).choices[0].delta.content){var o=JSON.parse(s).choices[0].delta.content;t.answer+=o,t.userQuerys[t.userQuerys.length-1].system+=o}},r.onerror=function(e){r.close();var s=t.userQuerys[t.userQuerys.length-1];t.submit=!1,s.system="出错了，请刷新页面！"}})}else this.$notify.error({title:"错误",message:"请等待Ai回答完成！"});else this.$notify.error({title:"错误",message:"请输入您的问题！"})},resetForm:function(e){this.$refs[e].resetFields()},goAdminViews:function(){this.$router.push("/admin")},flushUserInfo:function(){var e=this;i.a.get("/user").then(function(t){e.nikName=t.nikName,e.balanceCount=t.balanceCount,e.userType=t.userType,503==t.code&&(e.$notify.error({title:"错误",message:"会话过期,请重新登录!"}),e.$router.push("/login"))})},exit:function(){localStorage.removeItem("token"),this.$router.push("/login")},myScroll:function(){var e="div-"+(this.userQuerys.length-1);this.$nextTick(function(){document.getElementById(e).scrollIntoView()})}},created:function(){this.token=localStorage.getItem("token"),this.flushUserInfo(),this.chatRecords=[],this.userQuerys=[]}},a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-row",{attrs:{gutter:24}},[s("el-col",{attrs:{xs:0,sm:2,md:5,lg:5,xl:5}},[s("div",{staticClass:"grid-content"})]),e._v(" "),s("el-col",{attrs:{xs:24,sm:20,md:14,lg:14,xl:14}},[s("div",{staticClass:"grid-content"},[this.showDefault?s("div",{staticStyle:{"text-align":"center",height:"80vh"}},[s("p",{staticStyle:{"font-weight":"bold","font-size":"35px"}},[e._v("Open AI ChatGPT")]),e._v(" "),s("p",{staticStyle:{"font-weight":"bold","font-size":"20px"}},[e._v("软件持续开发更新中...")]),e._v(" "),s("span",[e._v("基于 OpenAI 的 ChatGPT 自然语言模型人工智能对话。")]),s("br"),e._v(" "),s("span",[e._v("ChatGPT 可以为您做些什么：")]),s("br"),e._v(" "),s("span",[e._v("⑴. 帮写代码、文案、论文、小说")]),s("br"),e._v(" "),s("span",[e._v("⑵. 帮文案润色、写诗作词、谱曲")]),s("br"),e._v(" "),s("span",[e._v("⑶. 帮扮演面试官、书籍电影角色")]),s("br"),e._v(" "),s("span",[e._v("⑷. 陪聊倾诉、解忧解惑、讲故事")]),s("br"),e._v(" "),s("span",[e._v("⑸. 帮您翻译、绘图、设计、构思")]),s("br"),e._v(" "),s("span",[s("strong",[e._v("注意：以上内容均为原创内容！！")])]),s("br"),e._v(" "),s("span",[e._v("【例1：写一篇800字关于春天的作文，要有花有草，有动物。】")]),s("br"),e._v(" "),s("span",[e._v("【例2：写一首关于爱情的歌，主题是午夜思念曾经深爱的她。】")]),s("br"),e._v(" "),s("span",[e._v("【例3：翻译xxxxx为英文.中文】")]),s("br"),e._v(" "),s("span",[e._v("【例4：用C#语言写一个SMTP邮件群发软件。】")]),s("br")]):e._e(),e._v(" "),this.showDefault?e._e():s("div",{staticClass:"scroll_box"},e._l(this.userQuerys,function(t,r){return s("div",{key:r,staticClass:"list_item",attrs:{id:"div-"+r}},[s("div",{staticClass:"ti"},[e._v("回复时间："+e._s(t.time))]),e._v(" "),s("div",{staticClass:"mine"},[s("div",[s("strong",[e._v("M: ")]),e._v(e._s(t.user))])]),e._v(" "),s("div",{staticClass:"ai",attrs:{id:"div-"+r}},[s("div",[s("strong",[e._v("A: ")]),e._v(e._s(t.system))])])])}),0)]),e._v(" "),s("div",{staticClass:"input"},[s("el-form",{staticClass:"queryForm",attrs:{rules:e.rules}},[s("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容",id:"userInput"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.submitQuestion.apply(null,arguments)}},model:{value:e.ruleForm.msg,callback:function(t){e.$set(e.ruleForm,"msg",t)},expression:"ruleForm.msg"}},[s("el-button",{staticClass:"append",attrs:{slot:"append",icon:"el-icon-search",loading:this.submit},on:{click:e.submitQuestion},slot:"append"})],1)],1)],1)]),e._v(" "),s("el-col",{attrs:{xs:0,sm:2,md:5,lg:5,xl:5}},[s("div",{staticClass:"grid-content"})])],1)},staticRenderFns:[]};var u=s("VU/8")(o,a,!1,function(e){s("FH28")},"data-v-541eb3ae",null);t.default=u.exports}});
//# sourceMappingURL=1.8b370be2f8f68cc232d4.js.map