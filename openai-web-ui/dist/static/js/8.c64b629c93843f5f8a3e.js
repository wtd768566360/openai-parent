webpackJsonp([8],{rg43:function(e,r){},tcoL:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("vLgD"),o={name:"Register",data:function(){var e=this;return{registerForm:{username:"",nikName:"",email:"",code:"",password:"",confirmPassword:""},codeLoding:!1,codeText:"点击获取验证码",codeTime:60,registerRules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"},{validator:function(e,r,t){/^[a-zA-Z0-9_-]{4,16}$/.test(r)?t():t(new Error("长度4到16位(字母,数字,下划线,减号)"))},trigger:"blur"}],nikName:[{required:!0,message:"请输入昵称",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱格式",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],confirmPassword:[{required:!0,message:"请再次输入密码",trigger:"blur"},{validator:function(r,t,s){t===e.registerForm.password?s():s(new Error("两次输入的密码不一致"))},trigger:"blur"}]}}},methods:{handleSubmit:function(){var e=this;this.$refs.registerForm.validate(function(r){if(!r)return!1;s.a.post("/system/registry",{account:e.registerForm.username,name:e.registerForm.nikName,phone:e.registerForm.phone,email:e.registerForm.email,password:e.registerForm.confirmPassword,code:e.registerForm.code}).then(function(r){console.log(r),0==r.code?(e.$message({message:"恭喜你，注册成功！",type:"success"}),e.$router.push("/login")):(e.$message({message:r.msg,type:"error"}),clearInterval(timer),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60)})})},toLogin:function(){this.$router.push("/login")},getCode:function(){var e=this;if(this.registerForm.email){/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(this.registerForm.email)?(this.codeLoding=!0,s.a.post("/email/create/code",{account:this.registerForm.username,email:this.registerForm.email}).then(function(r){if(0==r.code){e.$message({message:"验证码发送成功！请注意查看邮箱",type:"success"});var t=setInterval(function(){e.codeTime--,e.codeTime<=0?(clearInterval(t),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60):e.codeText=e.codeTime+"秒后重试！"},1e3)}else e.$message({message:r.msg,type:"error"}),clearInterval(t),e.codeLoding=!1,e.codeText="点击获取验证码",e.codeTime=60})):this.$message({message:"请先填写正确的邮箱！",type:"error"})}else this.$message({message:"请先填写邮箱！",type:"error"})}}},i={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"register-wrapper"},[t("el-card",{staticClass:"register-card"},[t("div",{staticClass:"register-logo"},[t("h1",[e._v("ChatGPT系统注册")])]),e._v(" "),t("div",{staticClass:"register-form"},[t("el-form",{ref:"registerForm",attrs:{"status-icon":"",model:e.registerForm,rules:e.registerRules,"label-position":"left","label-width":"80px"}},[t("el-form-item",{attrs:{label:"账号",prop:"username"}},[t("el-input",{attrs:{placeholder:"请输入账号（作为登录账号）"},model:{value:e.registerForm.username,callback:function(r){e.$set(e.registerForm,"username",r)},expression:"registerForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"昵称",prop:"nikName"}},[t("el-input",{attrs:{placeholder:"请输入您的昵称"},model:{value:e.registerForm.nikName,callback:function(r){e.$set(e.registerForm,"nikName",r)},expression:"registerForm.nikName"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{placeholder:"请输入邮箱"},model:{value:e.registerForm.email,callback:function(r){e.$set(e.registerForm,"email",r)},expression:"registerForm.email"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"验证码",prop:"code"}},[t("el-input",{staticStyle:{width:"100px"},attrs:{placeholder:"请输入验证码"},model:{value:e.registerForm.code,callback:function(r){e.$set(e.registerForm,"code",r)},expression:"registerForm.code"}}),e._v(" "),t("el-button",{attrs:{loading:this.codeLoding,type:"text"},on:{click:e.getCode}},[e._v(e._s(this.codeText))])],1),e._v(" "),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.registerForm.password,callback:function(r){e.$set(e.registerForm,"password",r)},expression:"registerForm.password"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"确认密码",prop:"confirmPassword"}},[t("el-input",{attrs:{type:"password",placeholder:"请确认密码"},model:{value:e.registerForm.confirmPassword,callback:function(r){e.$set(e.registerForm,"confirmPassword",r)},expression:"registerForm.confirmPassword"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("注册")])],1)],1),e._v(" "),t("el-button",{staticStyle:{"margin-left":"160px"},attrs:{type:"text"},on:{click:e.toLogin}},[e._v("以有账号？点击立即登录")])],1)])],1)},staticRenderFns:[]};var a=t("VU/8")(o,i,!1,function(e){t("rg43")},"data-v-3a4f9a87",null);r.default=a.exports}});
//# sourceMappingURL=8.c64b629c93843f5f8a3e.js.map